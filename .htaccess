# DO NOT REMOVE. CLOUDLINUX PASSENGER CONFIGURATION BEGIN
PassengerAppRoot "/home/clia1383/public_html/showcase.clicksy.id"
PassengerBaseURI "/"
PassengerNodejs "/home/clia1383/nodevenv/public_html/showcase.clicksy.id/22/bin/node"
PassengerAppType node
PassengerStartupFile app.js
# DO NOT REMOVE. CLOUDLINUX PASSENGER CONFIGURATION END

# Aktifkan mod_rewrite
RewriteEngine On

# BLOCK akses langsung ke file sensitif
<FilesMatch "\.(env|ejs|json|lock)$">
  Order allow,deny
  Deny from all
</FilesMatch>

# BLOCK akses langsung ke file javascript di luar public
<FilesMatch "^((?!^/public/).)*\.js$">
  Order allow,deny
  Deny from all
</FilesMatch>

<Files "app.js">
  Order allow,deny
  Deny from all
</Files>

# BLOCK akses ke folder sensitif
RedirectMatch 403 ^/config/
RedirectMatch 403 ^/routes/
RedirectMatch 403 ^/controllers/
RedirectMatch 403 ^/models/
RedirectMatch 403 ^/utils/
RedirectMatch 403 ^/views/
RedirectMatch 403 ^/node_modules/

# BLOCK dotfiles
RedirectMatch 403 ^/\.git
RedirectMatch 403 ^/\.env
RedirectMatch 403 ^/\.htaccess

Options -Indexes
